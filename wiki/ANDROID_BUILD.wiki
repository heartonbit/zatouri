#summary 안드로이드 빌드, 서명, 최적화

=안드로이드 빌드, 서명, 최적화=

==개요==

안드로이드 앱은 배포되기 전에 빌드, 서명, 최적화의 세단계가 필요하다.

많이 쓰이는 방법으로 Eclipse ADT(Android Developer Tools)와 ANT를 이용하는 방법이 있으며, 용도에 따라 Debug, Release로 나눌 수도 있다.

==빌드(BUILD)==

1. Eclipse  이용시

File > Export, Android folder>Android Application 선택 

빌드,서명,최적화까지 가능한 Wizard 화면뜸.

_스크린샷 및 사용법 작성필요_

2. ANT 이용시, Android project 위치로 가서

{{{
$ ant debug 
}}}
혹은
{{{
$ ant release
}}}

==서명(SIGN)==

===Debug===

개발시 사용할 수 있는 용도. Android SDK에서 제공하는 key로 서명한다. 배포는 불가.

===Release===

개발자 개인키(private key)로 서명한다. self-signed 관계없음. 배포 가능.

===서명키 만드는 법===

JDK에 들어있는 jarsigner 이용

{{{
$ jarsigner -verbose -sigalg MD5withRSA -digestalg SHA1 - keystore my-release_key.keystore my_app.apk alias_name
}}}

===서명된 apk 유효성검사===

{{{
$ jarsigner -verify -verbose my_app.apk
}}}

==최적화(OPTIMIZING)==

JDK에서 제공하는 zipalign 이용

{{{
$ zipalign -v 4 your_projefct_name-unaligned.apk your_project_name.apk
}}}

==좀 더 쉬운 방법==

Eclipse 에서 Android project 위에 마우스 오른쪽 클릭하고 signed 혹은 unsigned 선택

_보완필요_

ANT 이용시는

ant.properties에 아래 서명관련 property를 지정해주고 

{{{
key.store=path/to/my.keystore
key.alias=mykeystore
}}}

{{{
$ ant release
}}}
하면 서명된 apk화일 얻을 수 있음.
----
=Reference=

 * http://developer.android.com/tools/publishing/app-signing.html
 * http://developer.android.com/tools/building/building-cmdline.html